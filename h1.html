<!DOCTYPE html>
<html>
<head>
    <title>Instagram Access Token</title>
</head>
<body>
    <button id="getToken">Get Access Token</button>
    <div id="tokenResult"></div>

    <script>
        document.getElementById('getToken').addEventListener('click', function() {
            fetch('https://fd28-102-39-43-237.ngrok-free.app/auth') // Replace with your actual server URL
                .then(response => response.text())
                .then(data => {
                    document.getElementById('tokenResult').innerText = data;
                })
                .catch(error => {
                    console.error('Error:', error);
                    document.getElementById('tokenResult').innerText = 'Failed to retrieve access token';
                });
        });

        function getAccessToken() {
            const urlParams = new URLSearchParams(window.location.search);
            const accessToken = urlParams.get('code'); // Assuming 'code' is the parameter name for the access token

            if (accessToken) {
                document.getElementById('tokenResult').innerText = `Access Token: ${accessToken}`; // Update 'accessToken' to 'tokenResult'
            } else {
                document.getElementById('tokenResult').innerText = 'Access Token not found.';
            }
        }

        // Call the function when the page loads
        window.onload = getAccessToken;
    </script>
</body>
</html>

